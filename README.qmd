# Logônia <img src="images/logo.png" align="right" width="120" />

<!-- Quarto render -->

```{r}
#| label: setup
#| include: false

library(badger)
library(beepr)
library(groomr) # github.com/sustentarea/groomr
```

<!-- badges: start -->
```{r}
#| echo: false
#| output: asis

cat(
  badger::badge_repostatus("wip"),
  # badger::badge_custom(
  #   x = "CoMSES Network",
  #   y = "2.0.0",
  #   color = "1284C5",
  #   url = paste0(
  #     "https://www.comses.net/codebases/",
  #     ""
  #   )
  # ),
  badger::badge_custom(
    x = "OSF DOI",
    y = "10.17605/OSF.IO/TPY7S",
    color = "1284C5",
    url = "https://doi.org/10.17605/OSF.IO/TPY7S"
  ),
  # paste0(
  #   "[![",
  #   "FAIR checklist badge",
  #   "](",
  #   "https://img.shields.io/badge/",
  #   "fairsoftwarechecklist.net", "-",
  #   "-",
  #   "00a7d9",
  #   ")](",
  #   "https://fairsoftwarechecklist.net/",
  #   ")"
  # ),
  # paste0(
  #   "[![",
  #   "fair-software.eu",
  #   "](",
  #   "https://img.shields.io/badge/",
  #   "fair--software.eu", "-",
  #   "%E2%97%8F%20%20%E2%97%8F%20%20%E2%97%8F%20%20%E2%97%8F%20%20%E2%97%8F",
  #   "-",
  #   "green",
  #   ")](",
  #   "https://fair-software.eu",
  #   ")"
  # ),
  badger::badge_license(
    license = "GPLv3",
    color = "bd0000",
    url = "https://www.gnu.org/licenses/gpl-3.0"
  )
)
```
<!-- badges: end -->

## Overview

`Logônia` is a [NetLogo](https://www.netlogo.org) model for simulating the growth response of a fictional plant named Logônia (*netlogia brasiliensis*) to different climatic conditions. The model incorporates climate data from [WorldClim 2.1](https://worldclim.org/) and serves as fun example on how to integrate the [`LogoClim`](https://github.com/sustentarea/logoclim) model into other NetLogo models using the NetLogo [`LevelSpace`](https://ccl.northwestern.edu/netlogo/docs/ls.html) extension.

> If you find this project useful, please consider giving it a star! [![GitHub repo stars](https://img.shields.io/github/stars/sustentarea/logonia)](https://github.com/sustentarea/Logônia/)

```{=html}
<p align="center">
  <img src="images/logonia-interface.gif" />
</p>
```

## How It Works

`Logônia` runs on a grid of patches, where each patch represents a piece of soil that can host a logônia plant. Each patch corresponds to a specific geographic area and stores historical climate data.

A logônia plant develops through three growth phases: *seedling*, *juvenile*, and *adult*. Each phase has a distinct shape and energy levels. Plant growth, reproduction, and senescence (shown by color fading) are influenced by the climate conditions of the patch it occupies.

```{=html}
<p align="center">
  <img src="images/logonia-sizes.svg" width=80% />
</p>
```

Once a logônia reaches the adult phase, it can reproduce asexually by establishing new plants in unoccupied patches. The probability of growth is determined by a [logistic regression](https://en.wikipedia.org/wiki/Logistic_regression) model that incorporates the patch’s climate variables. If conditions are favorable, the plant gains energy and grows; otherwise, it may remain the same or lose energy, eventually dying. Plants die either when they run out of energy or when they reach their maximum age (100 months).

### Climate Data

This model illustrates how climate data from [WorldClim 2.1](https://worldclim.org/) can be integrated into NetLogo through the [`LogoClim`](https://github.com/sustentarea/logoclim) NetLogo model. Climate conditions directly affect species growth, adding complexity to the simulation.

The dataset comes from the *Historical Monthly Weather Data* series of [WorldClim 2.1](https://worldclim.org/) (1951-2024) ([Fick & Hijmans, 2017](https://doi.org/10.1002/joc.5086)) for a selected region of the **Amazon forest**. This series includes 12 monthly data points for each year from 1951 to 2024, based on [downscaled](https://worldclim.org/data/downscaling.html) data from [CRU-TS-4.09](https://crudata.uea.ac.uk/cru/data/hrg/cru_ts_4.09/), developed by the [Climatic Research Unit](https://www.uea.ac.uk/groups-and-centres/climatic-research-unit) at the [University of East Anglia](https://www.uea.ac.uk/) ([Harris et al., 2020](https://doi.org/10.1038/s41597-020-0453-3)). Variables include *average minimum temperature (°C)* (**A**), *average maximum temperature (°C)* (**B**), and *total precipitation (mm)* (**C**).

```{=html}
<p align="center">
  <img src="images/worldclim-animation.gif" />
</p>
```

The dataset can be reproduced using the Quarto notebooks in the `qmd` folder of this repository, adapted from those of the [`LogoClim`](https://github.com/sustentarea/logoclim) model.

Refer to the `Info` tab in the model for additional details.

## How to Use It

To get started, ensure you have [NetLogo](https://www.netlogo.org) installed. This model was developed using NetLogo 7.0.0, so it is recommended to use this version or later.

The model relies on the NetLogo extensions `LevelSpace` ([`ls`](https://ccl.northwestern.edu/netlogo/docs/ls.html)) and `String` ([`string`](https://github.com/NetLogo/String-Extension)). These extensions are installed automatically when the model is run for the first time.

#### Downloading the Model

You can download the latest release of the model from its [GitHub releases page](https://github.com/sustentarea/logonia/releases/latest). For the development version, you can clone or download this [GitHub repository](https://github.com/sustentarea/logonia/) directly.

```{=gfm}
> [!IMPORTANT]
> Download all repository files, not only the `nlogox` folder.
```

#### Running the Model

Once everything is set, open the `logonia.nlogox` file located in the `nlogox` folder to start exploring! No additional installation steps are required.

Refer to the `Info` tab in the model for additional details.

## How to Cite

To cite `Logônia` please use the following format:

Vartanian, D., Garcia, L., & Carvalho, A. M. (2025). *{Logônia}: Netlogia brasiliensis growth response model* \[Computer software\]. <https://doi.org/10.17605/OSF.IO/TPY7S>

A BibTeX entry for LaTeX users is:

``` latex
@Misc{vartanian2025,
  title = {{Logônia}: <span class="italic">Netlogia brasiliensis</span> growth response model},
  author = {{Daniel Vartanian} and {Leandro Garcia} and {Aline Martins de Carvalho}},
  year = {2025},
  doi = {10.17605/OSF.IO/TPY7S},
  note = {Computer software}
}
```

## License

```{r}
#| echo: false
#| output: asis

cat(
  badger::badge_license(
    license = "GPLv3",
    color = "bd0000",
    url = "https://www.gnu.org/licenses/gpl-3.0"
  )
)
```

```text
Copyright (C) 2025 Daniel Vartanian

{Logônia} is free software: you can redistribute it and/or modify it under the
terms of the GNU General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with
this program. If not, see <https://www.gnu.org/licenses/>.
```
## Acknowledgments

We gratefully acknowledge [Stephen E. Fick](https://orcid.org/0000-0002-3548-6966), [Robert J. Hijmans](https://orcid.org/0000-0001-5872-2872), and the entire [WorldClim](https://worldclim.org/) team for their outstanding work in creating and maintaining the WorldClim datasets.

We thank the [Climatic Research Unit](https://www.uea.ac.uk/groups-and-centres/climatic-research-unit) at the [University of East Anglia](https://www.uea.ac.uk/) and the United Kingdom's [Met Office](https://www.metoffice.gov.uk/) for developing and providing access to the [CRU-TS-4.09](https://crudata.uea.ac.uk/cru/data/hrg/cru_ts_4.09/) dataset, a vital source of historical climate data.

```{r}
#| echo: false
#| output: asis

htmltools::tags$table(
  htmltools::tags$tr(
    htmltools::tags$td(
      htmltools::tags$br(),
      htmltools::tags$br(),
      htmltools::tags$p(
        htmltools::tags$a(
          htmltools::tags$img(
            src = "images/sustentarea-logo.svg",
            width = 125
          ),
          href = "https://www.fsp.usp.br/sustentarea/"
        ),
        align = "center"
      ),
      htmltools::tags$br(),
      width = "30%"
    ),
    htmltools::tags$td(
      htmltools::tags$p(
        "This work was developed with support from the ",
        htmltools::tags$a(
          "Sustentarea",
          href = "https://www.fsp.usp.br/sustentarea/"
        ),
        " Research and Extension Center at the University of São Paulo (",
        htmltools::tags$a(
          "USP",
          href = "https://www5.usp.br/",
          .noWS = "outside"
        ),
        ")."
      ),
      width = "70%"
    )
  )
) |>
  knitr::raw_html()

htmltools::tags$table(
  htmltools::tags$tr(
    htmltools::tags$td(
      htmltools::tags$br(),
      htmltools::tags$p(
        htmltools::tags$a(
          htmltools::tags$img(
            src = "images/cnpq-logo.svg",
            width = 150
          ),
          href = "https://www.gov.br/cnpq/"
        ),
        align = "center"
      ),
      htmltools::tags$br(),
      width = "30%"
    ),
    htmltools::tags$td(
      htmltools::tags$p(
        "This work was supported by the Department of Science and ",
        "Technology of the Secretariat of Science, Technology, and Innovation ",
        "and of the Health Economic-Industrial Complex (",
        htmltools::tags$a(
          "SECTICS",
          href = "https://www.gov.br/saude/pt-br/composicao/sectics/",
          .noWS = "outside"
        ),
        ")  of the ",
        htmltools::tags$a(
          "Ministry of Health",
          href = "https://www.gov.br/saude/pt-br/composicao/sectics/",
          .noWS = "outside"
        ), " ",
        "of Brazil, and the National Council for Scientific and ",
        "Technological Development (",
        htmltools::tags$a(
          "CNPq",
          href = "https://www.gov.br/cnpq/",
          .noWS = "outside"
        ),
        ") (grant no. 444588/2023-0)."
      ),
      width = "70%"
    )
  )
) |>
  knitr::raw_html()
```
